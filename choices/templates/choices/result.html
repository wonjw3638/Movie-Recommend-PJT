{% extends 'base.html' %}
{% load static %}

{% block style %}
<style>
  h1 {
    font-size: 3rem;
    font-style: normal;
    font-weight: 100;
  }

  .btn-bd-primary-genre1 {
    --bs-btn-font-family:'KOTRAHOPE';
    --bs-btn-font-weight: 200;
    --bs-btn-font-size: 2rem;
    --bs-btn-color: white;
    --bs-btn-bg: #F2889B;
    --bs-btn-border-color: #F2889B;
    --bs-btn-border-radius: .5rem;
    --bs-btn-hover-color: white;
    --bs-btn-hover-bg: #e88092;
    --bs-btn-hover-border-color: #e88092;
    --bs-btn-focus-shadow-rgb: #F2889B;
    --bs-btn-active-color: #ededed;
    --bs-btn-active-bg: #d66d7f;
    --bs-btn-active-border-color: #d66d7f;
  }

  .btn-bd-primary-genre2 {
    --bs-btn-font-family:'KOTRAHOPE';
    --bs-btn-font-weight: 200;
    --bs-btn-font-size: 2rem;
    --bs-btn-color: white;
    --bs-btn-bg: #95BFA4;
    --bs-btn-border-color: #95BFA4;
    --bs-btn-border-radius: .5rem;
    --bs-btn-hover-color: white;
    --bs-btn-hover-bg: #7ba88b;
    --bs-btn-hover-border-color: #7ba88b;
    --bs-btn-focus-shadow-rgb: #95BFA4;
    --bs-btn-active-color: #ededed;
    --bs-btn-active-bg: #699177;
    --bs-btn-active-border-color: #699177;
  }

  .btn-bd-primary-genre3 {
    --bs-btn-font-family:'KOTRAHOPE';
    --bs-btn-font-weight: 200;
    --bs-btn-font-size: 2rem;
    --bs-btn-color: white;
    --bs-btn-bg: #f28444;
    --bs-btn-border-color: #f28444;
    --bs-btn-border-radius: .5rem;
    --bs-btn-hover-color: white;
    --bs-btn-hover-bg: #eb9936;
    --bs-btn-hover-border-color: #eb9936;
    --bs-btn-focus-shadow-rgb: #f29e38;
    --bs-btn-active-color: #ededed;
    --bs-btn-active-bg: #de8d2c;
    --bs-btn-active-border-color: #de8d2c;
  }

  .btn-like {
    --bs-btn-font-family:'KOTRAHOPE';
    --bs-btn-font-weight: 200;
    --bs-btn-font-size: 1.5rem;
    --bs-btn-color: white;
    --bs-btn-bg: #f29e38;
    --bs-btn-border-color: #f29e38;
    --bs-btn-border-radius: .5rem;
    --bs-btn-hover-color: white;
    --bs-btn-hover-bg: #eb9936;
    --bs-btn-hover-border-color: #eb9936;
    --bs-btn-focus-shadow-rgb: #f29e38;
    --bs-btn-active-color: #ededed;
    --bs-btn-active-bg: #de8d2c;
    --bs-btn-active-border-color: #de8d2c;
  }

  .btn-signup {
    --bs-btn-font-family:'KOTRAHOPE';
    --bs-btn-font-weight: 300;
    --bs-btn-font-size: 1.5rem;
    --bs-btn-color: white;
    --bs-btn-bg: #F2889B;
    --bs-btn-border-color: #F2889B;
    --bs-btn-border-radius: .5rem;
    --bs-btn-hover-color: white;
    --bs-btn-hover-bg: #e88092;
    --bs-btn-hover-border-color: #e88092;
    --bs-btn-focus-shadow-rgb: #F2889B;
    --bs-btn-active-color: #ededed;
    --bs-btn-active-bg: #d66d7f;
    --bs-btn-active-border-color: #d66d7f;
  }
  
  .btn-login {
    --bs-btn-font-family:'KOTRAHOPE';
    --bs-btn-font-weight: 300;
    --bs-btn-font-size: 1.5rem;
    --bs-btn-color: #F2889B;
    --bs-btn-bg: white;
    --bs-btn-border-color: #F2889B;
    --bs-btn-border-radius: .5rem;
    --bs-btn-hover-color: #e88092;
    --bs-btn-hover-bg: #f2f2f2;
    --bs-btn-hover-border-color: #e88092;
    --bs-btn-focus-shadow-rgb: #F2889B;
    --bs-btn-active-color: #d66d7f;
    --bs-btn-active-bg: #e6e6e6;
    --bs-btn-active-border-color: #d66d7f;
  }

</style>
{% endblock style %}

{% block content %}

  <div class="row d-flex justify-content-end m-3">
    <button type="button" class="btn btn-primary btn-signup col-auto" onclick="location.href='{% url 'accounts:profile' user %}'">내 프로필</button>
    <form action="{% url 'accounts:logout' %}" method="POST" class="col-auto">
      {% csrf_token %}
      <button type="submit" class="btn btn-primary btn-login">Logout</button>
    </form>
  </div>

  {% if genre_names|length == 0 %}
  <h1 class="text-center my-3 pt-5">마음에 드는 영화가 없으셨나봐요</h1>
  {% else %}
  {% include 'choices/result/_list.html' %}
  {% endif %}


  <div class="row justify-content-center">
    
    <div class="col-12 d-flex justify-content-center my-2">
      <a href="{% url 'choices:start' %}">
        <button class="btn btn-primary btn-like" type="submit">처음부터 다시하기</button>
      </a>
    </div>
  </div>

{% endblock content %}

{% block script %}
<script>
  // carousel을 for문으로 생성했기 때문에 carousel의 첫 영화에만 active 클래스를 넣어주었다
  // 첫 영화가 active가 아니라면 carousel이 작동하지 않기 때문...
  const indicatorTags = document.querySelectorAll('.carousel-indicators')
  indicatorTags.forEach((indicatorTag) => {
    indicatorTag.querySelector('button').classList.add('active')

  })
  const carouselItemTags = document.querySelectorAll('.carousel-inner')
  carouselItemTags.forEach((carouselItemTag) => {
    carouselItemTag.querySelector('.carousel-item').classList.add('active')
  })
</script>
{% endblock script %}
